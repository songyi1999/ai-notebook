---
description: 项目全局理解
globs: 
alwaysApply: false
---
# AI笔记本项目概览

## 项目简介

这是一个**纯本地、AI增强的个人知识管理系统**，旨在为用户提供安全、私密且智能的笔记管理体验。

## 核心特性

- 🔒 **纯本地运行**：所有数据存储在本地，确保隐私安全
- 📝 **Markdown格式**：使用标准Markdown格式，数据可移植性强  
- 🤖 **AI智能问答**：基于本地LLM的RAG问答系统
- 🐳 **容器化部署**：一键启动，简化安装和运行
- 🔗 **双向链接**：支持笔记间的双向链接和关系可视化
- 🔍 **智能搜索**：支持关键词、语义和混合搜索，带搜索历史
- 📁 **智能文件管理**：文件树状视图，支持拖拽移动、右键菜单操作
- ✨ **自动保存**：实时自动保存编辑内容，支持Ctrl+S快捷键

## 技术架构

- **前端**：React + TypeScript + Vite + Ant Design
- **后端**：FastAPI + Python + SQLite + ChromaDB
- **AI集成**：OpenAI兼容接口，支持Ollama等本地AI服务
- **部署**：Docker + Docker Compose

## 项目文档结构

请始终参考以下核心文档：

- [README.md](mdc:README.md) - 项目概况、技术架构、函数列表、变量说明、系统架构图
- [DATABASE.md](mdc:DATABASE.md) - 完整的数据库结构设计，包含10个核心数据表
- [开发计划.md](mdc:开发计划.md) - 详细的5阶段开发计划（19周），包含技术架构选型、里程碑、风险评估
- [task.log](mdc:task.log) - 项目进度跟踪和决策记录

## 开发阶段

项目分为5个开发阶段：
1. **阶段一**：基础架构搭建 (2-3周) ✅ **已完成**
2. **阶段二**：核心功能开发 (3-4周) ✅ **已完成**
3. **阶段三**：AI功能集成 (4-5周) ✅ **基本完成**
4. **阶段四**：高级功能开发 (3-4周) 🔄 **进行中**
5. **阶段五**：优化与部署 (2-3周) ⏳ **待开始**

## 当前状态 (2024年12月31日)

### 已完成功能
- ✅ **基础架构**：Docker容器化部署，前后端分离架构
- ✅ **文件管理**：完整的文件CRUD操作，文件树展示，拖拽移动
- ✅ **Markdown编辑**：实时编辑和预览，自动保存
- ✅ **智能搜索**：关键词、语义、混合三种搜索模式，搜索历史
- ✅ **AI问答**：基于RAG的智能问答系统
- ✅ **向量索引**：自动文档向量化和语义搜索
- ✅ **索引管理**：启动时自动重建，手动重新索引
- ✅ **用户界面**：图标化操作按钮，友好的用户交互

### 正在完善的功能
- 🔄 **文件删除**：数据库删除已实现，物理文件删除待完善
- 🔄 **链接关系**：双向链接解析和可视化
- 🔄 **标签系统**：智能标签提取和管理

### 技术亮点
- **启动时自动重建索引**：确保数据一致性，避免状态不一致问题
- **同步保存 + 异步索引**：保证用户体验的同时维护搜索准确性
- **混合搜索算法**：结合FTS5全文搜索和向量语义搜索
- **OpenAI兼容接口**：灵活的AI服务集成，支持多种本地AI服务

项目已进入高级功能完善阶段，核心功能稳定可用，正在优化用户体验和完善边缘功能。

